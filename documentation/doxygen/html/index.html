<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Linux.Bash.istribution: Linux.Bash.istribution</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">Linux.Bash.istribution
   </div>
   <div id="projectbrief">Get distribution name and version info</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Linux.Bash.istribution </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_README"></a> <a href="https://github.com/TirsvadCLI/Linux.Bash.Distribution/graphs/contributors"><img src="https://img.shields.io/github/contributors/TirsvadCLI/Linux.Bash.Distribution?style=for-the-badge" alt="Contributors" class="inline"/></a> <a href="https://github.com/TirsvadCLI/Linux.Bash.Distribution/network/members"><img src="https://img.shields.io/github/forks/TirsvadCLI/Linux.Bash.Distribution?style=for-the-badge" alt="Forks" class="inline"/></a> <a href="https://github.com/TirsvadCLI/Linux.Bash.Distribution/stargazers"><img src="https://img.shields.io/github/stars/TirsvadCLI/Linux.Bash.Distribution?style=for-the-badge" alt="Stargazers" class="inline"/></a> <a href="https://github.com/TirsvadCLI/Linux.Bash.Distribution/issues"><img src="https://img.shields.io/github/issues/TirsvadCLI/Linux.Bash.Distribution?style=for-the-badge" alt="Issues" class="inline"/></a> <a href="https://github.com/TirsvadCLI/Linux.Bash.Distribution/blob/master/LICENSE"><img src="https://img.shields.io/github/license/TirsvadCLI/Linux.Bash.Distribution?style=for-the-badge" alt="MIT License" class="inline"/></a> <a href="https://www.linkedin.com/in/jens-tirsvad-nielsen-13b795b9/"><img src="https://img.shields.io/badge/-LinkedIn-black.svg?style=for-the-badge&amp;logo=linkedin&amp;colorB=555" alt="LinkedIn" style="pointer-events: none;" class="inline"/></a></p>
<p ><br  />
 </p><div align="center"> <a href="https://github.com/TirsvadCLI/Linux.Bash.Distribution"><img src="images/logo.png" alt="Logo" width="80" height="80" class="inline"/> </a> </div><h1><a class="anchor" id="autotoc_md0"></a>
Linux Distribution Info</h1>
<p >This script retrieves the operating system, version, and architecture of a Linux distribution. It accurately identifies the distribution using standard system files and commands, ensuring broad compatibility across various Linux systems.</p>
<h2><a class="anchor" id="autotoc_md1"></a>
Getting Started</h2>
<h3><a class="anchor" id="autotoc_md2"></a>
Clone the Repository</h3>
<div class="fragment"><div class="line">git clone git@github.com:TirsvadCLI/Linux.Bash.Distribution.git</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md3"></a>
Download the Script Directly</h3>
<p >Alternatively, you can download the script directly with:</p>
<div class="fragment"><div class="line">curl -L https://github.com/TirsvadCLI/Linux.Bash.Distribution/tarball/master | tar xz --strip-components=2 --wildcards &#39;*/src/*&#39; -C ./</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md4"></a>
Script Description</h2>
<p >The script primarily checks for the presence of /etc/os-release, a standard file in many Linux distributions that contains identification data for the operating system. If /etc/os-release is not found, the script will attempt to use the lsb_release command if it is available. It also checks other files such as /etc/lsb-release and /etc/debian_version for compatibility with various distributions like Debian and Ubuntu. As a last resort, the script defaults to using uname commands to ensure it can retrieve the necessary information across different systems.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Variables</h2>
<p >The script sets the following environment variables:</p>
<ul>
<li><code>TCLI_LINUX_BASH_DISTRIBUTION_ID</code>: A string containing the name of the distribution.</li>
<li><code>TCLI_LINUX_BASH_DISTRIBUTION_RELEASE</code>: A string containing the version of the distribution.</li>
<li><p class="startli"><code>TCLI_LINUX_BASH_DISTRIBUTION_ARCH</code>: A string containing the architecture of the distribution.</p>
<p class="startli">Can return folling values</p><ul>
<li><code>x64</code>: AMD64 or Intel64</li>
<li><code>x86</code>: IA32 or Intel32</li>
<li><code>arm</code>: ARM and combatible variants</li>
<li><code>riscv64</code>: RISC-V 64-bit</li>
<li>$(uname -m) for all others arch</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md6"></a>
Examples</h2>
<div class="fragment"><div class="line">#!/bin/bash</div>
<div class="line"> </div>
<div class="line">declare -r PATH_ROOT=$(realpath $(dirname &quot;$0&quot;))</div>
<div class="line">declare -r PATH_VENDOR=&quot;$PATH_ROOT/Vendor&quot;</div>
<div class="line">declare -r PATH_VENDOR_LINUX_DISTRIBUTION=&quot;$PATH_VENDOR/Linux.Bash.Distribution&quot;</div>
<div class="line"> </div>
<div class="line"># Create the Vendor directory if it doesn&#39;t exist</div>
<div class="line">[[ -d &quot;$PATH_VENDOR_LINUX_DISTRIBUTION&quot; ]] || mkdir -p &quot;$PATH_VENDOR_LINUX_DISTRIBUTION&quot;</div>
<div class="line"> </div>
<div class="line">cd &quot;$PATH_VENDOR_LINUX_DISTRIBUTION&quot;</div>
<div class="line"># Download and extract the contents from GitHub into the Vendor directory</div>
<div class="line">curl -L https://github.com/TirsvadCLI/Linux.Bash.Distribution/tarball/master | tar xzf - --strip-components=2 --wildcards &#39;*/src/*&#39;</div>
<div class="line">. &quot;$PATH_VENDOR_LINUX_DISTRIBUTION/Distribution/Distribution.sh&quot;</div>
<div class="line">cd &quot;$PATH_ROOT&quot;</div>
<div class="line"> </div>
<div class="line">echo &quot;Distribution = $TCLI_LINUX_BASH_DISTRIBUTION_ID&quot;</div>
<div class="line">echo &quot;Release = $TCLI_LINUX_BASH_DISTRIBUTION_RELEASE&quot;</div>
<div class="line">echo &quot;Arch = $TCLI_LINUX_BASH_DISTRIBUTION_ARCH&quot;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md7"></a>
Testing</h2>
<p >To create a Docker image for testing, use the following command: </p><div class="fragment"><div class="line">docker-compose build</div>
</div><!-- fragment --><p >To run the test in the Docker image, execute:</p>
<p ><b>ubuntu</b> </p><div class="fragment"><div class="line">docker run --rm -it tirsvadclilinuxdistribution_ubuntu_service</div>
<div class="line">./test_Distribution.sh</div>
</div><!-- fragment --><p ><b>debian</b> </p><div class="fragment"><div class="line">docker run --rm -it tirsvadclilinuxdistribution_debian_service</div>
<div class="line">./test_Distribution.sh</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md8"></a>
Contribution</h2>
<p >See more here</p>
<h2><a class="anchor" id="autotoc_md9"></a>
Code of conduct</h2>
<p >See more here </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
